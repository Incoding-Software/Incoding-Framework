@model Incoding.SiteTest.AddProductCommand
<!DOCTYPE html>
<html>
<head>
    <title></title>

    @Html.Incoding().Link(Url.Content("~/Content/bootstrap.css"))
    @Html.Incoding().Link(Url.Content("~/Content/bootstrap-theme.css"))


    @Html.Incoding().Script(Url.Content("~/Scripts/jquery-1.7.2.min.js"))
    @Html.Incoding().Script(Url.Content("~/Scripts/underscore.js"))

    @Html.Incoding().Script(Url.Content("~/Scripts/jquery.form.js"))
    @Html.Incoding().Script(Url.Content("~/Scripts/jquery.history.js"))
    @Html.Incoding().Script(Url.Content("~/Scripts/jquery.validate.min.js"))
    @Html.Incoding().Script(Url.Content("~/Scripts/jquery.validate.unobtrusive.min.js"))
    @Html.Incoding().Script(Url.Content("~/Scripts/mustache.js"))
    @Html.Incoding().Script(Url.Content("~/Scripts/handlebars.js"))

    @Html.Incoding().Script(Url.Content("~/Scripts/incoding.url.js"))
    @Html.Incoding().Script(Url.Content("~/Scripts/incoding.core.js"))
    @Html.Incoding().Script(Url.Content("~/Scripts/incoding.meta.helper.js"))
    @Html.Incoding().Script(Url.Content("~/Scripts/incoding.meta.engine.js"))
    @Html.Incoding().Script(Url.Content("~/Scripts/incoding.meta.executable.js"))
    @Html.Incoding().Script(Url.Content("~/Scripts/incoding.meta.conditional.js"))
    @Html.Incoding().Script(Url.Content("~/Scripts/incoding.meta.trace.js"))
    <script>
        TemplateFactory.Version = '@Guid.NewGuid().ToString()'
    </script>
</head>
<body>
@Html.Incoding().RenderDropDownTemplate()
@Html.ForGroup(r => r.Name).DropDown(control =>
                                     {
                                         control.Input.Data = Url.Action("FetchCountry", "Labs");
                                         control.Label.Name = "Should be first";
                                     })
@Html.ForGroup(r => r.Name).DropDown(control =>
                                     {
                                         control.Input.Data = Url.Action("FetchCountryWithSelected", "Labs");
                                         control.Label.Name = "Should be selected UK";
                                     })
@Html.ForGroup(r => r.HasValue).DropDown(control =>
                                         {
                                             control.Input.Data = Url.Action("FetchCountry", "Labs");
                                             control.Label.Name = "Should be USA";
                                         })
@Html.ForGroup(r => r.HasValue).DropDown(control =>
                                         {
                                             control.Input.Data = Url.Action("FetchCountryWithSelected", "Labs");
                                             control.Label.Name = "Should be selected USA";
                                         })

@Html.ForGroup(r => r.HasValue).DropDown(control =>
                                         {
                                             control.Input.Data = Url.Action("FetchCountry", "Labs");
                                             control.Label.Name = "Should be selected USA (with optional)";
                                             control.Input.Optional = "";
                                         })
@Html.ForGroup(r => r.HasValue).DropDown(control =>
                                         {
                                             control.Input.Data = Url.Action("FetchCountryWithSelected", "Labs");
                                             control.Label.Name = "Should be selected USA (with optional and )";
                                             control.Input.Optional = "";
                                         })
@Html.ForGroup(r => r.Name).DropDown(control =>
                                     {
                                         control.Input.Data = Url.Action("FetchCountry", "Labs");
                                         control.Input.Optional = new KeyValueVm("", "");
                                         control.Label.Name = "Should be empty (optional)";
                                     })
@Html.ForGroup(r => r.NameAsNull).DropDown(control =>
                                           {
                                               control.Input.Data = Url.Action("FetchCountry", "Labs");
                                               control.Input.Optional = new KeyValueVm("", "");
                                               control.Label.Name = "Should be empty (optional) with value null";
                                           })
@Html.ForGroup(r => r.Name).DropDown(control =>
                                     {
                                         control.Input.Data = Url.Action("FetchCountryWithSelected", "Labs");
                                         control.Input.Optional = "";
                                         control.Label.Name = "Should be UK";
                                     })

@Html.ForGroup(r => r.Name).DropDown(control =>
                                     {
                                         control.Input.Data = Url.Action("FetchCountry", "Labs");
                                         control.Input.Optional = new KeyValueVm(Guid.Empty);
                                         control.Label.Name = "Should be guide empty";
                                     })

@Html.ForGroup(r => r.Name).DropDown(control =>
                                     {
                                         control.Input.Data = Url.Action("FetchCountry", "Labs");
                                         control.Input.Optional = new[]
                                                                  {
                                                                          new KeyValueVm(Guid.Empty),
                                                                          new KeyValueVm("", "All", true),
                                                                  };
                                         control.Label.Name = "Should be ALL";
                                     })


@Html.ForGroup(r => r.NameAsNull).DropDown(control =>
                                           {
                                               control.Input.InitBind = JqueryBind.InitIncoding | JqueryBind.None; 
                                               control.Input.Data = Url.Action("FetchCountry", "Labs");
                                               control.Input.Optional = new KeyValueVm("", "");
                                               control.Input.AddClass("test");
                                               control.Label.Name = "Should be empty (optional) with value null (with trigger)";
                                           })
@(Html.When(JqueryBind.Click)      
      .OnSuccess(dsl => dsl.WithClass("test").Trigger.None())
      .AsHtmlAttributes()
      .ToButton("Send none"))
</body>
</html>